#INCLUDE <16F887.H>
#DEVICE ADC=10
#FUSES NOWDT, PUT, HS, NOPROTECT, NOLVP
#USE DELAY(CLOCK=20M)
UNSIGNED INT16 KQADC=0;

VOID main()
{
SET_TRIS_C(0x00); SET_TRIS_A(0xFF);
SETUP_ADC(ADC_CLOCK_DIV_32);
SETUP_ADC_PORTS(SAN4);

WHILE(TRUE)
{
SET_ADC_CHANNEL(4);
KQADC=READ_ADC();
DELAY_MS(10);
KQADC= KQADC /2.046;
delay_ms(100);

IF (KQADC >= 50)
{OUTPUT_C(0x02); DELAY_MS(100);
OUTPUT_C(0x00); DELAY_MS(100);
}
}
}
